<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="I have recently discovered a linting tool for prose called Vale. The
way I discovered it was by going through Stakater&rsquo;s public
repositories on GitHub. More specifically the stakater/vocabulary
repository, which contains a Vale vocabulary for Vale&rsquo;s spell
checker not to yell at them for using Kubernetes resource names in prose.
While I&rsquo;m not a huge fan of tools that judge my writing, I do feel there are
some recurrent typos I could eliminate without need for a code review prior to
merging a new article to this website. And so I have decided to try out Vale
when I&rsquo;m writing new pages and blog posts like this one. As a bonus that comes
with my Vale configuration, I get information on text readability, among other
things."><meta http-equiv=Content-Security-Policy content="default-src 'self' cdn.jsdelivr.net; style-src 'self' 'unsafe-inline'; img-src *; object-src 'none'; script-src 'self' 'unsafe-inline' cdn.jsdelivr.net; worker-src 'self' blob:; base-uri 'self'"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><title>Trying out Vale as a prose linter</title><link rel=preload as=font type=font/woff2 href=/fonts/source-sans-pro-regular.woff2 crossorigin><link rel=preload as=font type=font/woff2 href=/fonts/source-sans-pro-600.woff2 crossorigin><link rel=preload as=font type=font/woff2 href=/fonts/inconsolata-regular.woff2 crossorigin><link rel=preload as=font type=font/woff2 href=/fonts/inconsolata-600.woff2 crossorigin><style type=text/css>@font-face{font-display:swap;font-family:source sans pro;font-style:normal;font-weight:400;src:url(/fonts/source-sans-pro-regular.woff2)format("woff2"),url(/fonts/source-sans-pro-regular.woff)format("woff")}@font-face{font-display:swap;font-family:source sans pro;font-style:normal;font-weight:600;src:url(/fonts/source-sans-pro-600.woff2)format("woff2"),url(/fonts/source-sans-pro-600.woff)format("woff")}@font-face{font-display:swap;font-family:inconsolata;font-style:normal;font-weight:400;src:url(/fonts/inconsolata-regular.woff2)format("woff2"),url(/fonts/inconsolata-regular.woff)format("woff")}@font-face{font-display:swap;font-family:inconsolata;font-style:normal;font-weight:600;src:url(/fonts/inconsolata-600.woff2)format("woff2"),url(/fonts/inconsolata-600.woff)format("woff")}footer#page-footer,nav#site-nav{background:0 0;padding:1em}footer#page-footer,nav#site-nav{background:#282a2e;color:#c5c8c6;line-height:3em}nav#site-nav{display:flex;overflow:auto;scrollbar-width:none}nav#site-nav::-webkit-scrollbar{display:none}nav#site-nav a{display:inline-block;width:6em;font-weight:700;text-align:center;color:inherit;flex-shrink:0}@media screen and (min-width:60em){footer#page-footer,nav#site-nav{line-height:inherit}}html{background:#252628}body{width:100%;max-width:60em;margin:0 auto;line-height:1.5em;font-family:source sans pro,helvetica,liberation sans,open sans,sans-serif;font-size:100%;color:#c5c8c6}@media screen and (min-width:60em){body{margin:2em auto!important}}h1,h2,h3,h4,h5,h6{margin:1.1em 0 .83em}h1,h2,h3{color:#8c9440}h4,h5,h6{color:#b5bd68}h1{font-size:1.5em}h2{font-size:1.26em}h3{font-size:1.1em}h4{font-size:1.03em}h5{font-size:.67em}h6{font-size:.51em}a{text-decoration:initial;color:#de935f}a:hover{text-decoration:underline}em{color:#f0c674;font-style:normal}strong{color:#c66}nav#site-nav{border-radius:1em 1em 0 0;background:0 0;color:#c5c8c6}nav#site-nav a.push-right{margin-left:auto}nav#site-nav a.current{color:#81a2be}label#toc-toggle{display:flex;width:100%;margin-top:1em;height:3em;align-items:center;justify-content:center}input#toc-toggle-box{display:none}input#toc-toggle-box~nav#TableOfContents{display:none}input#toc-toggle-box:checked~nav#TableOfContents{display:block}nav#TableOfContents{margin:.5em 0 0;box-sizing:border-box;background:#282a2e;padding:1em;border-radius:.5em;overflow:hidden;font-weight:700;color:#de935f}nav#TableOfContents ul{margin:0;padding:0;list-style-type:none}nav#TableOfContents ul li{overflow:hidden;white-space:nowrap;text-overflow:' ...'}nav#TableOfContents ul li+li{margin-top:1em}nav#TableOfContents ul ul{padding-left:1em;margin-top:1em}@media screen and (min-width:60em){nav#TableOfContents{float:right;margin:1em 0 1em 1em;max-width:40%;font-size:85%}nav#TableOfContents ul li+li{margin-top:initial}nav#TableOfContents ul ul{margin-top:initial}}@media screen and (min-width:60em){label#toc-toggle{display:none}}@media screen and (min-width:60em){input#toc-toggle-box~nav#TableOfContents{display:initial}}footer#page-footer{background:0 0;color:#707880;display:grid;grid-auto-flow:column;grid-template-columns:minmax(0,1fr)}footer#page-footer a{color:#f0c674}footer#page-footer span.commit-subject{color:#de935f;margin-left:.5em}footer#page-footer p#commit{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}footer#page-footer p#commit span.commit-hash{font-family:inconsolata,dejavu sans mono,liberation mono,monospace}footer#page-footer p#timestamp,footer#page-footer p#commit{margin:0}footer#page-footer p#timestamp{text-align:right}article{background:#1d1f21;padding:.1em 1.5em .8em}@media screen and (min-width:60em){article{border-radius:.5em}}article header{font-weight:700}article header section.header-line{display:flex;justify-content:space-between;align-items:center}article header section.header-line h1{color:#8c9440;margin-bottom:.25em}article header section.header-line aside#translations{margin:1.1em 0 .25em}article header section.header-line aside#translations ul#translations{list-style:none;padding:0;margin:0;display:flex;justify-content:space-around;font-size:115%}article header section.header-line aside#translations ul#translations li:not(:first-child){margin-left:1em}article header section.subheader-line{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}article header section.subheader-line p.subtitle{color:#5e8d87;margin:0}article header section.subheader-line p.subtitle em{color:inherit;font-style:italic}article header section.subheader-line ul#article-tags{list-style-type:none;padding-left:0;margin:0;font-size:85%}article header section.subheader-line ul#article-tags li{display:inline-block}article header section.subheader-line ul#article-tags li:nth-child(n+2){margin-left:1em}article header section.subheader-line ul#article-tags li a{color:#f0c674}article blockquote{color:#979a98;padding-left:1em;border:0 solid #707880;border-left-width:.5em}article table{width:100%}article table th{color:#81a2be}article table td{color:#c5c8c6}article table td.date{width:1%;white-space:nowrap;padding:0 .5em 0 0}article table.compare-table{border-collapse:collapse}article table.compare-table th,article table.compare-table td{padding:.5em 1em;box-sizing:border-box}article table.compare-table th:first-child,article table.compare-table td:first-child{padding-left:0}article table.compare-table th:last-child,article table.compare-table td:last-child{padding-right:0}article table.compare-table th,article table.compare-table td:nth-child(n+2){text-align:center}article table.compare-table td{border-top:.1em solid #707880}article table.compare-table th:nth-child(n+2){min-width:4em}article li::marker{color:#f0c674}article figure{margin:1.25em 0;text-align:center}article figure img{min-height:5em;max-height:15em;width:100%;object-fit:cover;border-radius:1em}article figure figcaption p{margin-top:0}article code{font-family:inconsolata,dejavu sans mono,liberation mono,monospace;font-size:100%}article pre{background:#282a2e;border-radius:.5em;padding:.5em 1em;overflow-x:auto;line-height:initial}article>hr{color:#707880;opacity:.5;margin:2em 0}article p code,article li code{background:#282a2e;padding:0 .3em;border-radius:.25em}article>p a,article>ul li a,article>ol li a{text-decoration:underline}article.extra-pages h2~p{margin-left:2em}article section.dialog{display:flex;padding:1em;align-content:center;border-radius:.5em;border:.2em solid #707880;margin:.5em 0 0;box-sizing:border-box;max-width:100%}article section.dialog p:first-child{margin-top:0}article section.dialog p:last-child{margin-bottom:0}article section.dialog .dialog-icon{margin-right:1em}article section.dialog.dialog-info{border-color:#5f819d}article section.dialog.dialog-warning{border-color:#de935f}article section.dialog.dialog-error{border-color:#a54242}article section.dialog.dialog-success{border-color:#8c9440}@media screen and (min-width:60em){article section.dialog{margin:1em 0 0}}</style></head><body><nav id=site-nav><a href=/ class=[]>Home
</a><a href=/blog/ class=[]>Blog
</a><a href=/glob/ class=[]>Glob
</a><a href=/projects/ class=[]>Projects
</a><a href=/about/ class=push-right>About</a></nav><main role=main><article id=content><header><section class=header-line><h1>Trying out Vale as a prose linter</h1></section><section class=subheader-line><p class=subtitle>Let&rsquo;s see how far we&rsquo;re going to take this!</p><ul id=article-tags><li><a href=/tags/writing>Writing</a></li><li><a href=/tags/tools>Tools</a></li><li><a href=/tags/novelty>Novelty</a></li><li><a href=/tags/vale>Vale</a></li></ul></section></header><p>I have recently discovered a linting tool for prose called <a href=https://vale.sh>Vale</a>. The
way I discovered it was by going through <a href=https://stakater.com>Stakater</a>&rsquo;s public
repositories on GitHub. More specifically the <a href=https://github.com/stakater/vocabulary>stakater/vocabulary</a>
repository, which contains a <a href=https://vale.sh/docs/topics/vocab/>Vale vocabulary</a> for Vale&rsquo;s spell
checker not to yell at them for using Kubernetes resource names in prose.</p><p>While I&rsquo;m not a huge fan of tools that judge my writing, I do feel there are
some recurrent typos I could eliminate without need for a code review prior to
merging a new article to this website. And so I have decided to try out Vale
when I&rsquo;m writing new pages and blog posts like this one. As a bonus that comes
with my Vale configuration, I get information on text readability, among other
things.</p><p>Currently, my Vale configuration is as follows:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#a6e22e>StylesPath</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>.local/share/vale/styles</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>MinAlertLevel</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>suggestion</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Packages</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>proselint, alex, Readability</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[*{.md,.markdown}]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>BasedOnStyles</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>Vale, proselint, alex, Readability</span>
</span></span></code></pre></div><p>Despite the amount of jargon in these pages, I&rsquo;ve decided <em>not</em> to start a
vocabulary file like the aforementioned company. Instead I&rsquo;ll just comb through
the diagnostics <a href=https://github.com/mfussenegger/nvim-lint>nvim-lint</a> produces before creating a Git commit,
ignoring complaints about words I know to be correctly spelled, like <em>Stakater</em>
and <em>Neovim.</em> Only once it becomes annoying &mdash; let&rsquo;s hope I never write about
the editor I use or about random companies &mdash; will I consider setting up an
<code>accept.txt</code> file in my style directory.</p><h2 id=integrating-it-with-neovim>Integrating it with Neovim</h2><p>To integrate it with my editor, I use <a href=https://github.com/mfussenegger/nvim-lint>nvim-lint</a>, which already
configures Vale to work with any given buffer, and all you have to do it
configure Vale itself as well as the autocommand that will trigger the linter
based on a list of events. This is what I&rsquo;m currently using:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#66d9ef>local</span> lint <span style=color:#f92672>=</span> require <span style=color:#e6db74>&#39;lint&#39;</span>
</span></span><span style=display:flex><span><span style=color:#75715e>-- ...</span>
</span></span><span style=display:flex><span>autocmd({ <span style=color:#e6db74>&#34;TextChangedI&#34;</span>, <span style=color:#e6db74>&#34;TextChanged&#34;</span> }, {
</span></span><span style=display:flex><span>  desc <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Attempt linting when changes were made to the text.&#34;</span>,
</span></span><span style=display:flex><span>  callback <span style=color:#f92672>=</span> <span style=color:#66d9ef>function</span> () lint.try_lint() <span style=color:#66d9ef>end</span>,
</span></span><span style=display:flex><span>  group <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;common&#34;</span>
</span></span><span style=display:flex><span>})
</span></span></code></pre></div><p>And to enable Vale for files with the <code>markdown</code> filetype:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span><span style=color:#66d9ef>local</span> lint <span style=color:#f92672>=</span> require <span style=color:#e6db74>&#39;lint&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>lint.linters_by_ft <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>  markdown <span style=color:#f92672>=</span> {<span style=color:#e6db74>&#39;vale&#39;</span>}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=experience-so-far>Experience so far</h2><p>I wish Vale would follow the LSP specification and provide things like code
actions. With the current setup, all my editor gives me are the diagnostics
that Vale generates, which are not entirely useful. For instance, if it finds a
word it doesn&rsquo;t know &mdash; this could be a misspelling or a word that&rsquo;s not in
any configured vocabulary &mdash; it&rsquo;ll ask you <strong>&ldquo;Did you really mean &lsquo;blah&rsquo;?&rdquo;</strong>
and call it a day.</p><p>Not very helpful, but when you&rsquo;re combing through the diagnostic messages,
you&rsquo;ll be able to catch typos yourself. The work of spotting them is offloaded
to Vale, and you can focus on writing or editing. <em>This isn&rsquo;t representative of
Vale&rsquo;s capabilities,</em> as it&rsquo;s much more powerful when fitting your prose to a
style guide. I just don&rsquo;t use one for my website.</p><p>If I ever write robust documentation for a project, and it could benefit from a
style guide like Microsoft&rsquo;s or Google&rsquo;s, I&rsquo;ll come back here to praise or
complain about Vale. For now, as a spell checker for <em>Neovim,</em> itâ€¦ works.</p></article></main><footer id=page-footer><p id=commit><a href=https://github.com/d3adb5/website/commit/538f1828a225229364fac663e3a9549e8db8e1d9><span class=commit-hash>538f182</span><span class=commit-subject>feat: add tags to existing blog posts</span></a></p><p id=timestamp>Updated May 14, 2023</p></footer></body></html>